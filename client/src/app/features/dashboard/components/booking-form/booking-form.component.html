<div class="booking-form-container">
  <h2><i class="bi bi-calendar-check"></i> Book Your Stay at {{ destination?.name }}</h2>
  <form [formGroup]="bookingForm" (ngSubmit)="onSubmit()" class="booking-form">
    <div class="form-row">
      <div class="form-group">
        <label for="firstName">
          <i class="bi bi-person"></i> First Name
        </label>
        <input id="firstName" type="text" formControlName="firstName" class="form-control" placeholder="John">
        <div *ngIf="bookingForm.get('firstName')?.invalid && (bookingForm.get('firstName')?.dirty || bookingForm.get('firstName')?.touched)" class="error-message">
          <i class="bi bi-exclamation-circle"></i> First name is required and must be at least 2 characters long.
        </div>
      </div>

      <div class="form-group">
        <label for="lastName">
          <i class="bi bi-person"></i> Last Name
        </label>
        <input id="lastName" type="text" formControlName="lastName" class="form-control" placeholder="Doe">
        <div *ngIf="bookingForm.get('lastName')?.invalid && (bookingForm.get('lastName')?.dirty || bookingForm.get('lastName')?.touched)" class="error-message">
          <i class="bi bi-exclamation-circle"></i> Last name is required and must be at least 2 characters long.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">
        <i class="bi bi-envelope"></i> Email
      </label>
      <input id="email" type="email" formControlName="email" class="form-control" placeholder="john@example.com">
      <div *ngIf="bookingForm.get('email')?.invalid && (bookingForm.get('email')?.dirty || bookingForm.get('email')?.touched)" class="error-message">
        <i class="bi bi-exclamation-circle"></i> Please enter a valid email address.
      </div>
    </div>

    <div class="form-group">
      <label for="phone">
        <i class="bi bi-telephone"></i> Phone
      </label>
      <input id="phone" type="tel" formControlName="phone" class="form-control" placeholder="+1 (555) 000-0000">
      <div *ngIf="bookingForm.get('phone')?.invalid && (bookingForm.get('phone')?.dirty || bookingForm.get('phone')?.touched)" class="error-message">
        <i class="bi bi-exclamation-circle"></i> Please enter a valid phone number.
      </div>
    </div>

    <div class="date-range">
      <div class="form-group date-picker">
        <label for="checkInDate">
          <i class="bi bi-calendar-plus"></i> Check-in Date
        </label>
        <input id="checkInDate" type="date" formControlName="checkInDate" class="form-control">
        <div *ngIf="bookingForm.get('checkInDate')?.invalid && (bookingForm.get('checkInDate')?.dirty || bookingForm.get('checkInDate')?.touched)" class="error-message">
          <i class="bi bi-exclamation-circle"></i> Check-in date is required.
        </div>
      </div>

      <div class="form-group date-picker">
        <label for="checkOutDate">
          <i class="bi bi-calendar-minus"></i> Check-out Date
        </label>
        <input id="checkOutDate" type="date" formControlName="checkOutDate" class="form-control">
        <div *ngIf="bookingForm.get('checkOutDate')?.invalid && (bookingForm.get('checkOutDate')?.dirty || bookingForm.get('checkOutDate')?.touched)" class="error-message">
          <i class="bi bi-exclamation-circle"></i> Check-out date is required.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="guests">
        <i class="bi bi-people"></i> Number of Guests
      </label>
      <input id="guests" type="number" formControlName="guests" class="form-control" min="1" placeholder="2">
      <div *ngIf="bookingForm.get('guests')?.invalid && (bookingForm.get('guests')?.dirty || bookingForm.get('guests')?.touched)" class="error-message">
        <i class="bi bi-exclamation-circle"></i> Please enter a valid number of guests (minimum 1).
      </div>
    </div>

    <div class="form-group">
      <label for="specialRequests">
        <i class="bi bi-chat-left-text"></i> Special Requests
      </label>
      <textarea id="specialRequests" formControlName="specialRequests" class="form-control" placeholder="Any special requirements?"></textarea>
    </div>

    <div class="form-group checkbox">
      <input id="agreeToTerms" type="checkbox" formControlName="agreeToTerms">
      <label for="agreeToTerms">I agree to the terms and conditions</label>
      <div *ngIf="bookingForm.get('agreeToTerms')?.invalid && (bookingForm.get('agreeToTerms')?.dirty || bookingForm.get('agreeToTerms')?.touched)" class="error-message">
        You must agree to the terms and conditions.
      </div>
    </div>

    <div class="booking-summary">
      <h3><i class="bi bi-receipt"></i> Booking Summary</h3>
      <div class="summary-details">
        <p><span>Number of nights:</span> <span>{{ numberOfNights }}</span></p>
        <p class="total-price"><span>Total price:</span> <span>{{ totalPrice | currency:'USD':'symbol':'1.2-2' }}</span></p>
      </div>
    </div>

    <div *ngIf="errorMessage" class="error-message global-error">
      <i class="bi bi-exclamation-triangle"></i> {{ errorMessage }}
    </div>

    <button type="submit" [disabled]="!bookingForm.valid" class="btn-primary" [ngClass]="{'btn-enabled': bookingForm.valid}">
      <i class="bi bi-check2-circle"></i> Confirm Booking
    </button>
  </form>
</div>