<div class="container-fluid vh-100">
  <div class="row h-100">
    <!-- Left Section - Login Form -->
    <div
      class="col-lg-4 d-flex align-items-center justify-content-center bg-white p-4 p-lg-5 curved-left"
    >
      <div class="w-100" style="max-width: 400px">
        <div class="text-center mb-4">
          <h1 class="h2 mb-2 fw-bold text-primary">Welcome Back</h1>
          <p class="text-primary-light">Log in to your account</p>
        </div>

        <!-- Back Button -->
        <button
          (click)="navigateToHome()"
          class="back-button"
          aria-label="Back to home"
        >
          <i class="bi bi-arrow-left"></i>
        </button>
        
        <!-- Google Login Button -->
        <button
          [disabled]="isLoading"
          class="btn btn-google w-100 mb-3 position-relative"
        >
          <img
            src="assets/imgs/google.png"
            alt="Google"
            class="position-absolute start-0 ms-3"
            style="width: 20px; height: 20px"
          />
          <span>Continue with Google</span>
        </button>

        <!-- Divider -->
        <div class="position-relative my-4">
          <hr class="divider" />
          <span class="divider-text">Or continue with email</span>
        </div>

        <!-- Error Message -->
        <div *ngIf="error" class="alert alert-danger py-2 small" role="alert">
          {{ error }}
        </div>

        <!-- Login Form -->
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <div class="mb-3">
            <div class="input-group custom-input-group">
              <span class="input-group-text"
                ><i class="bi bi-envelope"></i
              ></span>
              <input
                type="email"
                formControlName="email"
                class="form-control"
                placeholder="Email Address"
                [ngClass]="{
                  'is-invalid':
                    loginForm.get('email')?.invalid &&
                    loginForm.get('email')?.touched
                }"
              />
            </div>
            <div
              *ngIf="
                loginForm.get('email')?.invalid &&
                loginForm.get('email')?.touched
              "
              class="invalid-feedback d-block"
            >
              Please enter a valid email address
            </div>
          </div>

          <div class="mb-4">
            <div class="input-group custom-input-group">
              <span class="input-group-text"><i class="bi bi-lock"></i></span>
              <input
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                class="form-control"
                placeholder="Password"
                [ngClass]="{
                  'is-invalid':
                    loginForm.get('password')?.invalid &&
                    loginForm.get('password')?.touched
                }"
              />
              <button
                type="button"
                class="input-group-text password-toggle"
                (click)="togglePassword()"
              >
                <i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
              </button>
            </div>
            <div
              *ngIf="
                loginForm.get('password')?.invalid &&
                loginForm.get('password')?.touched
              "
              class="invalid-feedback d-block"
            >
              Password must be at least 6 characters
            </div>
          </div>

          <button
            type="submit"
            [disabled]="isLoading || loginForm.invalid"
            class="btn btn-primary w-100 py-3 mb-3"
          >
            {{ isLoading ? "Logging in..." : "Log In" }}
          </button>
        </form>

        <p class="text-center mb-0">
          Don't have an account?
          <a
            routerLink="/auth/signup"
            class="text-primary text-decoration-none ms-1"
            >Sign Up</a
          >
        </p>
      </div>
    </div>

    <!-- Right Section - Hero Image -->
    <div class="col-lg-8 d-none d-lg-block p-0 position-relative">
      <div class="hero-overlay"></div>
      <img
        src="assets/imgs/abcde.png"
        alt="Travel Destination"
        class="hero-image"
      />
    </div>
  </div>
</div>
